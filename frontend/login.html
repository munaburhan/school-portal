<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>School Portal Login</title>

  <link rel="stylesheet" href="style.css">

  <style>
    /* Login Page Specific Styles */
    body {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    .container {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 2rem;
    }

    .login-card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      padding: 3rem 2.5rem;
      width: 100%;
      max-width: 420px;
    }

    .login-card h2 {
      text-align: center;
      color: #2c3e50;
      margin-bottom: 1.5rem;
      font-size: 1.6rem;
    }

    .form-group {
      margin-bottom: 1.25rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      color: #333;
      font-weight: 500;
    }

    .form-group input,
    .form-group select {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #bdc3c7;
      border-radius: 4px;
      font-size: 1rem;
      font-family: inherit;
      transition: border-color 0.2s ease;
      background: #fff;
    }

    .form-group input:focus,
    .form-group select:focus {
      outline: none;
      border-color: #3498db;
      box-shadow: 0 0 4px rgba(52, 152, 219, 0.3);
    }

    /* Reliable select arrow (works RTL/LTR) */
    .select-wrap {
      position: relative;
      width: 100%;
    }

    .select-wrap select {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      padding-right: 42px; /* space for arrow on right */
    }

    .select-wrap::after {
      content: "";
      position: absolute;
      top: 50%;
      right: 14px;
      transform: translateY(-50%);
      pointer-events: none;

      width: 0;
      height: 0;
      border-left: 6px solid transparent;
      border-right: 6px solid transparent;
      border-top: 7px solid #475569;
    }

    html[dir="rtl"] .select-wrap select {
      direction: rtl;
      text-align: right;
      padding-right: 0.75rem;
      padding-left: 42px; /* space for arrow on left */
    }

    html[dir="rtl"] .select-wrap::after {
      right: auto;
      left: 14px;
    }

    .login-button {
      width: 100%;
      padding: 0.75rem;
      background-color: #3498db;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.2s ease;
      margin-top: 0.25rem;
    }

    .login-button:hover {
      background-color: #2980b9;
    }

    .login-button:active {
      background-color: #1e5e96;
    }

    footer {
      margin-top: auto;
    }

    /* Optional: tiny smoothness */
    .fade {
      transition: opacity 0.12s ease;
    }
  </style>
</head>

<body>

  <!-- Header -->
  <header>
    <h1 id="title-en" class="fade">School Portal</h1>
    <h1 id="title-ar" class="fade" style="display:none;">بوابة المدرسة</h1>

    <!-- Language Switch -->
    <div>
      <button type="button" onclick="setEnglish()">EN</button>
      <button type="button" onclick="setArabic()">AR</button>
    </div>
  </header>

  <!-- Login Container -->
  <div class="container">
    <div class="login-card">

      <h2 id="login-title-en" class="fade">School Portal Login</h2>
      <h2 id="login-title-ar" class="fade" style="display:none;">تسجيل الدخول إلى بوابة المدرسة</h2>

      <form id="loginForm">
        <!-- Email Field -->
        <div class="form-group">
          <label for="email" id="email-label-en" class="fade">Email</label>
          <label for="email" id="email-label-ar" class="fade" style="display:none;">البريد الإلكتروني</label>
          <input type="email" id="email" required>
        </div>

        <!-- Password Field -->
        <div class="form-group">
          <label for="password" id="password-label-en" class="fade">Password</label>
          <label for="password" id="password-label-ar" class="fade" style="display:none;">كلمة المرور</label>
          <input type="password" id="password" required>
        </div>

        <!-- Role Selector (FIXED bilingual label + spacing) -->
        <div class="form-group">
          <label for="role" id="role-label-en" class="fade">Role</label>
          <label for="role" id="role-label-ar" class="fade" style="display:none;">الدور</label>

          <div class="select-wrap">
            <select id="role" name="role" required>
              <option value="admin">Admin</option>
              <option value="teacher">Teacher</option>
              <option value="student">Student</option>
            </select>
          </div>
        </div>

        <!-- Login Button -->
        <button type="submit" class="login-button" id="login-button-en">Login</button>
        <button type="submit" class="login-button" id="login-button-ar" style="display:none;">تسجيل الدخول</button>
      </form>

    </div>
  </div>

  <!-- Footer -->
  <footer>
    <p id="footer-en" class="fade">© 2026 School Portal</p>
    <p id="footer-ar" class="fade" style="display:none;">© 2026 بوابة المدرسة</p>
  </footer>

  <script>
    function setEnglish() {
      setLang("en", "ltr");
    }

    function setArabic() {
      setLang("ar", "rtl");
    }

    function setLang(lang, dir) {
      document.documentElement.lang = lang;
      document.documentElement.dir = dir;
      toggleLanguage(lang);
    }

    function toggleLanguage(lang) {
      const enElements = document.querySelectorAll("[id$='-en']");
      const arElements = document.querySelectorAll("[id$='-ar']");

      enElements.forEach(el => el.style.display = (lang === "en") ? displayFor(el) : "none");
      arElements.forEach(el => el.style.display = (lang === "ar") ? displayFor(el) : "none");

      updateSelectOptions(lang);
    }

    function displayFor(el) {
      const tag = el.tagName.toLowerCase();
      if (tag === "button") return "block"; // our buttons are full width
      return "block";
    }

    function updateSelectOptions(lang) {
      const roleSelect = document.getElementById("role");
      const adminOption = roleSelect.querySelector('option[value="admin"]');
      const teacherOption = roleSelect.querySelector('option[value="teacher"]');
      const studentOption = roleSelect.querySelector('option[value="student"]');

      if (lang === "en") {
        adminOption.textContent = "Admin";
        teacherOption.textContent = "Teacher";
        studentOption.textContent = "Student";
      } else {
        adminOption.textContent = "مسؤول";
        teacherOption.textContent = "معلم";
        studentOption.textContent = "طالب";
      }
    }

    function handleLogin(event) {
      event.preventDefault();

      const email = document.getElementById("email").value.trim();
      const password = document.getElementById("password").value.trim();
      const role = document.getElementById("role").value;

      if (!email || !password) {
        const lang = document.documentElement.lang;
        alert(lang === "en" ? "Please fill in all fields." : "يرجى ملء جميع الحقول.");
        return;
      }

      const redirectMap = {
        admin: "admin.html",
        teacher: "teacher.html",
        student: "student.html"
      };

      window.location.href = redirectMap[role];
    }

    // Wire submit + initialize
    document.getElementById("loginForm").addEventListener("submit", handleLogin);
    window.addEventListener("load", () => toggleLanguage(document.documentElement.lang || "en"));
  </script>

</body>
</html>
